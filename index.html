<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>SUCCSS: the CSS regression testing tool</title>
  <meta name="description" content="The HTML5 Herald">
  <meta name="author" content="SitePoint">

  <link rel="icon" href="/favicon.ico" type="image/x-icon" />
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />

  <link rel="stylesheet" href="css/styles.css">
  <script type="text/javascript" src="js/color-squares.js"></script>
  <link rel="stylesheet" href="css/twitter.css">

  <script type="text/javascript" src="js/prism.js"></script>
  <link rel="stylesheet" href="css/prism.css">

  <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:700' rel='stylesheet' type='text/css'>

</head>

<body>

  <a id="fork-on-github" href="https://github.com/you"><img style="position: fixed; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/52760788cde945287fbb584134c4cbc2bc36f904/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f77686974655f6666666666662e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png"></a>

  <header>
    <a href="/index.html" title="home"><span id="logo">SUCCSS</span></a>
    <img id="logo-image" src="img/arc-logo.png"/><img width="161" id="click-here" src="img/click-here.png"/>
    <div id="header-text">
      <span id="static-line">Succss! Easy to install, easy to use CSS regression testing tool.<br/></span>
      <span id="dynamic-line">Turn your <strong>C</strong>ascading <strong>S</strong>tlye<strong>S</strong>heets into <strong>success</strong>ful design integrations.</span>
    </div>
    <a href="" id="twitter-button" title="Found the hidden GET params meaning yet ? Tweak it ! Share a customised version of this page."><i></i><span class="label">Tweet</span></a>
  </header>

  <div id="core">

    <article id="home">

      <span class="headline">Grab it:</span>
      <pre>npm install -g succss</pre>
      <div class="tips">Succss rely on <a href="http://phantomjs.org/" target="_blank">PhantomJS</a> and <a href="http://casperjs.org/" target="_blank">CasperJS</a> dependencies, automatically resolved by npm. Follow <a href="/installation">this guide</a> if you have trouble with npm.</div>

      <span class="headline">Describe your website CSS:</span>
      <pre class="code" style="height:500px;"><code class="language-javascript">//data.js
Succss.pages = {
  'any webpage': {
    url:'succss.ifzenelse.net',
    directory:'screenshots',
    captures: {
      // Key:name Value:CSS selector.
      'header':'header',
      'square1':'#red.color-square',
      'square2':'#green.color-square',
      'square3':'#blue.color-square'
    },
  },
  'another one': { 
    ... 
  }
};

Succss.viewports: {
    'classic wide': {
      width: 1366,
      height: 768
    },
    'mobile': {
      width: 320,
      height: 480
    },
    ...
  }</code></pre>

      <div class="tips">Succss can be used in many ways, for many use cases.
        Later, you can also read <a href="/configuration">Advanced Configuration</a>.</div>

      <span class="headline">Take base screenshots:</span>
      <pre><code>succss add data.js</code></pre>
      <div class="tips">For advanced usage, the command line tool can additionally take several arguments 
      such as <a href="/commandline">filters and options</a>.</div>

      <span class="headline">Compare base screenshots to updates:</span>
      <pre><code>succss check data.js</code></pre>
      <div class="tips">Succss is bundled with imagediff (default) and ResembleJS for comparisons. <a href="customize">You can also fully customize captures validations</a>.</div>

      <span class="headline">See differences or success:</span>
      <pre><img src="img/screenshots/imagediff.jpeg"/></pre>
      <div class="tips">This page from selftests showcase how differences are highlighted. <a href="/fork">Take a look at the source code</a> if you know javascript.</div>

    </article>

    <article id="installation">

      <h1>Installation Troubleshooting</h1>
    </article>

    <article id="configuration">

      <h1>Advanced Configuration</h1>

      <span class="headline">From the example on the frontpage, you should already know that the <a href="/commandline">succss commandline tool</a> takes <strong>one javascript</strong> file as argument for capturing base screenshots and checking updates for differences with base.</span>
      <pre class="code"><code class="language-javascript">// From data.js (name it what you want)
/* Mandatory */
Succss.pages = {...}
/* Optionnally: */
Succss.viewports = {...}
Succss.setFileName = function(capture) {...}
Succss.callback = function(capture) {...}
Succss.diff = function(imgBase, imgCheck, capture){...}</code></pre>
      <div class="tips">Succss will read the static properties and methods you provide. The callback and diff methods are part of the <a href="customize">custom validation</a> facility.</div>
      
      <h2>Configuration file structure</h2>
      <span class="headline">Succss configuration is simple: keyed objects representing webpages with selectors for captures. Optionally a list of viewports.</span>

      <pre class="code"><code class="language-javascript">Succss.pages = {
  // Will output: './screenshots/home--default-viewport.png'
  'homepage': {
    url:'succss.ifzenelse.net',
    directory:'screenshots',
    captures: {
        'home':'body',
    }
  }
}
</code></pre>
       <div class="tips">Beware that taking body screenshots is a bad practice: while it's quick to do, it is innefficient and error prone. It is however a good start for this guide.</div>

      <h2>Default configuration options</h2>
      <span class="headline">The following code snippet, much smaller, outputs the same body screenshot as above, only filenames are different.</span>
      <pre class="code" style="height:165px;"><code class="language-javascript">Succss.pages = {
  // Will output: './screenshots/body--default-viewport.png'
  'home': { url:'succss.ifzenelse.net' }
}</code></pre>
      <div class="tips">Obviously, webpage url is mandatory while the directory and selector default to "./screenshots" and "body", respectively. Note that default viewport is 1366x768.</div>

      <h2>Viewports</h2>
      Viewports: Any number of objects, setting the browser height and width before capture. Keyed by viewport names of your choice.
      <pre class="code"><code class="language-javascript">Succss.viewports = {
    'default':{
      'width':1366,
      'height':768
    }
  }
}</code></pre>
      <h2>Webpages</h2>
      <span class="headline">Succss javascript configuration file.</span>
      <pre class="code"><code class="language-javascript">Succss.pages = {
  // Will output: './screenshots/fork/body--default-viewport.png'
  'fork': {
    url:'succss.ifzenelse.net/fork',
    directory:'screenshots/fork/',
    captures: {
        'body':'body',
    }
  },
    ...
}</code></pre>
      <div class="tips">Pages captures can be filtered <a href="?page=commandline">with the --pages argument</a>.</div>
      <ul>
        <li>url: Protocol is optionnaly specified, default is "http://" . The website for which you will take screenshots.</li>
        <li>baseDirectory: the directory were screenshots will be stored, it can be absolute or relative to your current console path.</li>
      </ul>

      <h2>Selectors</h2>

      <h2>Custom file naming</h2>

      <h2>Before Capture</h2>

      <h2>After Capture</h2>

      <h2>Conclusion</h2>
      Succss configuration is really flexible and powerful, yet simple.</br>
      Now, if you want to launch base updates for specific pages, captures or viewports, I wrote commandline filters just for this.
      Read <a href="/commandline">next page</a> to learn how to do it !
    </article>

    <article id="commandline">

      <h1>Master Succss Commandline</h1>
    </article>

    <article id="usecases">

      <h1>Typical use cases</h1>
    </article>

    <article id="why">

      <h1>Why another CSS regression testing tool ?</h1>

      <span class="headline">At the time of writing, there is three other tools I know of: PhantomCSS, BackstopJS and CSS Critics (MIT licenses).</span>

      <h2>Why Succss over <a href="https://github.com/Huddle/PhantomCSS">PhantomCSS</a> ?</h2>
      <span class="headline">To sum up: Easier to learn, faster to deploy, yet as flexible.</span>
      <span class="headline">PhantomCSS is a code library on top of PhantomJS, CasperJS, ResembleJS. It takes a classic casperjs test file and run, providing a phantomcss object to it. Mostly these methods:</span>
      <pre class="code">phantomcss.init({//...})<code class="language-javascript"></code></pre>
      <div class="tips">PhantomCSS "constructor" taking an object as parameter to choose directories, file names, resemblejs properties and such.</div>
      <pre class="code">phantomcss.screenshot<code class="language-javascript"></code></pre>
      <div class="tips">PhantomCSS method for taking screenshots (phantomcss.screenshot("#CSS .selector", screenshotName))</div>
      <pre class="code"><code>phantomcss.compareAll('exclude.test');
phantomcss.compareMatched('include.test', 'exclude.test')
phantomcss.compareMatched( new RegExp('include.test'), new RegExp('exclude.test'));

/* Compare image diffs generated in this test run only */
phantomcss.compareSession();

/* Explicitly define what files you want to compare*/
phantomcss.compareExplicit(['/dialog.diff.png', '/header.diff.png']);

/* Get a list of image diffs generated in this test run */
phantomcss.getCreatedDiffFiles();

/* Compare any two images, and wait for the results to complete */
phantomcss.compareFiles(baseFile, diffFile);
phantomcss.waitForTests();</code></pre>
      <div class="tips">Methods for comparing screenshots.</div>
      <span class="headline">Before understanding PhantomCSS, one must know how to use casperjs (mind your learning curve), and then choose his/her complete workflow made of potentially asynchronous calls for opening webpages (for beginners, it can quickly become a mess, difficult to read and debug). </span>
      <span class="headline">PhantomCSS is a casperjs module. CasperJS beeing a web scraping, functionnal testing tool, it makes sense. However, Succss is a command line tool built *on top* of casperjs, thus abstracting it to the user.</span>
      <span class="headline">With PhantomCSS, starting almost from scratch ("Compare the images when and how you want" - from its github page), you may duplicate code for each of your captures (add phantomcss.screenshot calls to casperjs requests, you will likely get a verbose source) across test suites if any. You will write different files for captures and diffing, unless you code yet another tool on top of it - that is why I went my own route for Succss.</span>
      <span class="headline">Also when diffing with Succss, you can not only use ResembleJS but also ImageDiff (the default), or <a href="/customize">anything else you come up with</a>. Conclusion: Succss has all the complex logic and underliying code done for you, and you will still be able to do advanced interactions by <a href="configuration">writing callbacks before captures</a>.</span>
      <span class="headline">It's worth to mention that the company supporting both PhantomCSS and <strong>ResembleJS</strong> research and development is <a href="http://www.huddle.com/home/">Huddle</a>. Credits to them for pioneering the CSS Regression tools.</span>
     
      <h2>Why Succss over <a href="https://garris.github.io/BackstopJS">BackstopJS</a> ?</h2>
      <span class="headline">First, I started Succss development around when BackstopJS came out, so I may not have done it if it came out sooner.</span>
    <span class="headline">BackstopJS rely heavily on Gulp and its commandline, now what is gulp ?</span>
    <span class="headline">If you don't know what it is or don't want to get yet another dependency 
    for just that one specific task (CSS regression testing), that may be anoying.</span>
    <span class="headline">At the time of writing, BackstopJS uses json files (syntactically rigid) as its data configuration,
    whereas Succss uses javascript files. The later can take advantage of variables (for DRY sake) 
    and give you access to callbacks before and after taking screenshots (for both base and updates).</span>
    <span class="headline">Also, BackstopJS has a per project Bower library (Gulp and Casperjs dependencies are not resolved with Bower), whereas Succss is a npm global. I wouldn't call it quick to get if you never used Bower and Guld before.</span>
    <span class="headline">BackstopJS make it clear that it is "basically a wrapper around the very fabulous Resemble.js", therefore not compatible with <a href="https://github.com/HumbleSoftware/js-imagediff">imagediff</a> .</span>

    <h2>Why Succss over <a href="https://github.com/cburgmer/csscritic">CSS Critic</a> ?</h2>
    <span class="headline">It seems that there is a lot of CSS Regression testing tools getting released these days !</span>
    <span class="headline">I don't know much about CSS Critic, I read about it lately on the imagediff users list.</span>
    <span class="headline">Among other limitations listed on the CSS Critic's github page, I can tell that it uses a mandatory "RegressionRunner.html" file runnable with firefox only.</span>

    <h2>Succss is complete, with a smooth learning curve.</h2>
    <span class="headline">Succss is a complete CSS regression testing tool having
    its own command line utility rather than something else ("casperjs test", "gulp"),
    it's easy to learn, easy to install and fast to use. If you're into CSS regression testing,
give it a try !</span>
    </article>

    <article id="customize">

     <h1>Custom validations</h1>
      
    </article>    

    <article id="fork">

      <h1>Fork Succss !</h1>
      <iframe src="http://ghbtns.com/github-btn.html?user=mdo&repo=github-buttons&type=fork&size=large"
  allowtransparency="false" frameborder="0" scrolling="0" width="95" height="30"></iframe>
      <iframe src="http://ghbtns.com/github-btn.html?user=mdo&repo=github-buttons&type=watch&size=large"
  allowtransparency="false" frameborder="0" scrolling="0" width="95" height="30"></iframe>

    </article>

      <div id="more-infos">
        <span class="headline" id="more-infos-headline">Do you want more infos ?</span>
        <div id="more-infos-links">
          <a href="/usecases">.) Typical use cases</a>
          <a href="/installation">.) Installation Troubleshooting</a>
          <a href="/configuration">.) Advanced Configuration</a>
          <a href="/commandline">.) Master Succss Commandline</a>
          <a href="/customize">.) Custom Validations</a>
          <a href="/why">.) Why another CSS regression testing tool ?</a>
          <a href="/fork">.) Fork Succss !</a>
          <a href="/index.html">--- Back home</a>
        </div>
      </div>

  </div>

  <aside id="colors"></aside>

</body>
</html>